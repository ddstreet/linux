linux-raspi2 (4.2.0-1014.20) UNRELEASED; urgency=low

  CHANGELOG: Do not edit directly. Autogenerated at release.
  CHANGELOG: Use the printchanges target to see the curent changes.
  CHANGELOG: Use the insertchanges target to create the final log.

 -- Brad Figg <brad.figg@canonical.com>  Fri, 23 Oct 2015 08:47:56 -0700

linux-raspi2 (4.2.0-1013.19) wily; urgency=low

  [ Tim Gardner ]

  * Release Tracking Bug
    - LP: #1506972

  [ Paolo Pisati ]

  * Pull in latest 4.2 based kernel changes from
    https://github.com/raspberrypi/linux rpi-4.2.y
    e3eba57f7c9ffba24f695f187b6578d56495998a
  * Revert "SAUCE: raspi2 -- add overlays directory to dts-dirs to get the overlays installed"
  * [Config] DMA_BCM2835=y, =m for the other newly introduced options

  [ Upstream Kernel Changes ]

  * spi: bcm2835: fix overflow in calculation of transfer time
  * BCM270X_DT: Add SDIO overlay
  * leds-gpio: Implement the brightness_get method
  * RaspiDAC3 support
  * bcm2835: camera: check for scene not being found
  * BCM270X_DT: Use fixed-factor-clock for uart1
  * tpa6130a2: Add headphone switch control
  * vchiq_arm: Sort out the vmalloc case
  * config: Add SND_SOC_ADAU1701 module
  * staging: fbtft: Add reset to fbtft_init_display_dt()
  * bcm2835-mmc: Don't overwrite MMC capabilities from DT
  * BCM270X_DT: mz61581: Set txbuflen to 32k
  * backport: spi: bcm2835: BUG: fix wrong use of PAGE_MASK
  * mt7601u: fix dma from stack address
  * mt7601u: use correct ieee80211_rx variant
  * mt7601u: fix tx status reporting contexts
  * mt7601u: lock out rx path and tx status reporting
  * config: Add CIFS_DFS_UPCALL, CIFS_ACL, CIFS_SMB2, CIFS_FSCACHE
  * Add SMI driver
  * Add SMI NAND driver
  * BCM270X_DT: Document SMI overlay
  * dwc_otg: Force host mode to fix incorrect compute module boards
  * bcm2709: Remove custom barrier implementation it is no different to default
  * config: Add CONFIG_UHID
  * Add support for the HiFiBerry DAC+ Pro.
  * dmaengine: bcm2708: Make legacy API available for bcm2835-dma
  * dmaengine: bcm2835: Add slave dma support
  * dmaengine: bcm2835: set residue_granularity field
  * dmaengine: bcm2835: Load driver early and support legacy API
  * dmaengine: bcm2835: Add debug option for setting wait states
  * configs: Enable DMA_BCM2835
  * dmaengine: bcm2708: Change DT compatible string
  * config: Add CONFIG_CRYPTO_USER_API_SKCIPHER
  * config: Add options for supporting openlabs 802.15.4 radio
  * BCM270X_DT: Add at86rf233 overlay
  * bcm2835-gpiomem: Fix for ARCH_BCM2835 builds
  * scripts/mkknlimg: Improve ARCH_BCM2835 detection
  * BCM270X_DT: Make mmc overlay compatible with current firmware
  * bcm2835-dma: Fix dreq not set for slave transfers
  * bcm2835-dma: Limit cyclic transfers on lite channels to 32k
  * BCM270X_DT: Reduce default at86rf233 SPI frequency
  * bcm2708: Use #include in dtsi files.
  * clk: bcm2835: Move under bcm/ with other Broadcom SoC clk drivers.
  * clk: bcm2835: Add binding docs for the new platform clock driver.
  * clk: bcm2835: Add support for programming the audio domain clocks
  * clk: bcm2835: Also build the driver for downstream kernels.
  * bcm2835: Add (disabled) devicetree for the audio clock manager.
  * drm/atomic: fix null pointer access to mode_fixup callback
  * Use dts-dirs feature for overlays.

 -- Tim Gardner <tim.gardner@canonical.com>  Tue, 13 Oct 2015 17:24:07 -0700

linux-raspi2 (4.2.0-1012.18) wily; urgency=low

  [ Tim Gardner ]

  * Release Tracking Bug
    - LP: #1504147
  * Rebased on Ubuntu-4.2.0-16.19
  * [Config] CONFIG_X86_LEGACY_VM86=y, CONFIG_VM86=y for i386
    - LP: #1499089
  * [Config] CONFIG_MODIFY_LDT_SYSCALL=y
    - LP: #1499089
  * SAUCE: intel_pstate: Allow manually forcing the use of HWP on Skylake-S
  * [Config] CONFIG_ARM64_ERRATUM_843419=n
    - LP: #1502946
  * [Config] CONFIG_CAVIUM_ERRATUM_22375=y, CONFIG_CAVIUM_ERRATUM_23154=y

  [ Christophe Lombard ]

  * SAUCE: (noup) cxl: Fix number of allocated pages in SPA
    - LP: #1499849

  [ Matthew R. Ochs ]

  * SAUCE: (noup) cxlflash: Fix to avoid corrupting port selection mask

  [ Robert Richter ]

  * SAUCE: (noup) irqchip/gicv3-its: Add range check for number of
    allocated pages
  * SAUCE: (noup) irqchip/gicv3: Workaround for Cavium ThunderX erratum
    23154
  * SAUCE: (noup) irqchip/gicv3-its: Read typer register outside the loop
  * SAUCE: (noup) irqchip/gicv3-its: Add HW revision detection and
    configuration
  * SAUCE: (noup) irqchip/gicv3-its: Workaround for Cavium ThunderX errata
    22375, 24313

  [ Upstream Kernel Changes ]

  * x86/compat: Define ARCH_WANT_OLD_COMPAT_IPC only for 32-bit compat
    - LP: #1499089
  * x86/compat: Clean up HAVE_UID16 config
    - LP: #1499089
  * x86/compat: Separate ia32 and x32 compat ABIs
    - LP: #1499089
  * x86/entry/vm86: Clean up saved_fs/gs
    - LP: #1499089
  * x86/entry/vm86: Preserve 'orig_ax'
    - LP: #1499089
  * x86/entry/vm86: Move userspace accesses to do_sys_vm86()
    - LP: #1499089
  * x86/kconfig/32: Rename CONFIG_VM86 and default it to 'n'
    - LP: #1499089
  * x86/ldt: Make modify_ldt() optional
    - LP: #1499089
  * x86/vm86: Move vm86 fields out of 'thread_struct'
    - LP: #1499089
  * x86/vm86: Move fields from 'struct kernel_vm86_struct' to 'struct vm86'
    - LP: #1499089
  * x86/vm86: Eliminate 'struct kernel_vm86_struct'
    - LP: #1499089
  * x86/vm86: Use the normal pt_regs area for vm86
    - LP: #1499089
  * x86/vm86: Move the vm86 IRQ definitions to vm86.h
    - LP: #1499089
  * x86/vm86: Clean up vm86.h includes
    - LP: #1499089
  * x86/vm86: Rename vm86->vm86_info to user_vm86
    - LP: #1499089
  * x86/vm86: Rename vm86->v86flags and v86mask
    - LP: #1499089
  * x86/selftests, x86/vm86: Improve entry_from_vm86 selftest
    - LP: #1499089
  * selftests/x86/vm86: Fix entry_from_vm86 test on 64-bit kernels
    - LP: #1499089
  * x86/vm86: Block non-root vm86(old) if mmap_min_addr != 0
    - LP: #1499089
  * x86/vm86: Fix the misleading CONFIG_VM86 Kconfig help text
    - LP: #1499089
  * netfilter: conntrack: use nf_ct_tmpl_free in CT/synproxy error paths
    - LP: #1503902

 -- Tim Gardner <tim.gardner@canonical.com>  Thu, 08 Oct 2015 07:56:41 -0600

linux-raspi2 (4.2.0-1011.17) wily; urgency=low

  [ Tim Gardner ]

  * Rebased on Ubuntu-4.2.0-15.18

  [ Andy Whitcroft ]

  * Revert "SAUCE: aufs3: mmap: Fix races in madvise_remove() and sys_msync()"
    Was incorrectly backported.

  [ Ben Hutchings ]

  * SAUCE: aufs3: mmap: Fix races in madvise_remove() and sys_msync()
    - CVE-2015-7312

 -- Tim Gardner <tim.gardner@canonical.com>  Wed, 07 Oct 2015 10:05:42 -0600

linux-raspi2 (4.2.0-1011.16) wily; urgency=low

  [ Tim Gardner ]

  * Release Tracking Bug
    - LP: #1503268
  * Rebased on Ubuntu-4.2.0-15.17

 -- Tim Gardner <tim.gardner@canonical.com>  Tue, 06 Oct 2015 07:02:36 -0600

linux-raspi2 (4.2.0-1010.15) wily; urgency=low

  [ Tim Gardner ]

  * Revert "Make a Raspberry PI kernel image"
    u-boot loads a vmlinuz just fine.

 -- Tim Gardner <tim.gardner@canonical.com>  Wed, 30 Sep 2015 17:24:48 -0700

linux-raspi2 (4.2.0-1010.14) wily; urgency=low

  * Rebased on Ubuntu-4.2.0-13.15
  * UBUNTU: Make a Raspberry PI kernel image

 -- Tim Gardner <tim.gardner@canonical.com>  Tue, 29 Sep 2015 11:02:18 -0700

linux-raspi2 (4.2.0-1009.13) wily; urgency=low

  [ Tim Gardner ]

  * Fix getabis
  * Rebased on Ubuntu-4.2.0-12.14

 -- Tim Gardner <tim.gardner@canonical.com>  Fri, 25 Sep 2015 09:41:46 -0600

linux-raspi2 (4.2.0-1008.12) wily; urgency=low

  [ Tim Gardner ]

  * Revert "Disable debug package generation"
  * Revert "Drop some package generation"
  * Enable linux tools to be built
    There are folks that would like to use the tools outside of Snappy, e.g.,
    in a regular Debian installation.
  * Disable doc and source package generation
  * Remove unused package definitions
  * Fix dependency on linux-raspi2-tools-common

 -- Tim Gardner <tim.gardner@canonical.com>  Wed, 23 Sep 2015 11:30:47 -0600

linux-raspi2 (4.2.0-1008.11) wily; urgency=low

  [ Tim Gardner ]

  * Revert "packaging: invoke /bin/true if $(DEBIAN)/reconstruct doesn't exit"
    Superfluous with the addition of debian.raspi2/reconstruct
  * Drop some package generation, e.g., source, doc, tools.
  * Don't generate debug symbol image packages.

 -- Tim Gardner <tim.gardner@canonical.com>  Tue, 22 Sep 2015 11:23:42 -0600

linux-raspi2 (4.2.0-1008.10) wily; urgency=low

  [ Paolo Pisati ]

  * [Config] LEDS_TRIGGER_DEFAULT_ON=y
  * SAUCE: raspi2 dtb: power led default to on

  [ Tim Gardner ]

  * [Config] armhf: ARM_KERNMEM_PERMS=y && DEBUG_RODATA=y
  * rebased on Ubuntu-4.2.0-10.12

 -- Tim Gardner <tim.gardner@canonical.com>  Mon, 14 Sep 2015 09:45:11 -0600

linux-raspi2 (4.2.0-1008.9) wily; urgency=low

  [ Paolo Pisati ]

  * [Config] NLS_ISO8859_1=y

 -- Tim Gardner <tim.gardner@canonical.com>  Mon, 14 Sep 2015 09:10:34 -0600

linux-raspi2 (4.2.0-1008.8) wily; urgency=low

  [ Andy Whitcroft ]

  * SAUCE: raspi2 -- add overlays directory to dts-dirs to get the overlays installed

  [ Tim Gardner ]

  * rebased on Ubuntu-4.2.0-10.10

 -- Tim Gardner <tim.gardner@canonical.com>  Fri, 11 Sep 2015 10:00:17 -0600

linux-raspi2 (4.2.0-1007.7) wily; urgency=low

  [ Tim Gardner ]

  * [Debian] Change package name from bcm2709 to raspi2
  * [Debian] drop generic.inclusion-list
  * [Packaging] Clean up d-i

  [ Upstream Kernel Changes ]

  * vchiq: fix NULL pointer dereference when closing driver
  * bcm2708_fb: remove redundant code as detected by static analysis
  * bcm2708_fb: remove unnecessary initialization of result
  * vcsm: increment res_stats MAP_FAIL stats before we potentially release the resource
  * bcm2835: memcpy port data to m rather than rmsg

 -- Tim Gardner <tim.gardner@canonical.com>  Thu, 10 Sep 2015 08:17:27 -0600

linux-raspi2 (4.2.0-1006.6) wily; urgency=low

  [ Tim Gardner ]

  * rebased on Ubuntu-4.2.0-9.9

 -- Tim Gardner <tim.gardner@canonical.com>  Wed, 09 Sep 2015 13:30:42 -0600

linux-raspi2 (4.2.0-1005.5) wily; urgency=low

  [ Paolo Pisati ]

  * [Config] LEDS_GPIO=y && LEDS_TRIGGER_HEARTBEAT=y
  * [Config] disable FB_SIMPLE
  * [Config] SPI_SPIDEV=y
  * [Config] HID=y && HID_GENERIC=y
  * [Config] USB_HID=y , USB_DWCOTG=y and USB_STORAGE=y
  * [Config] disable USB_GADGET
  * [Config] disable ARM_PSCI
  * [Config] disable CACHE_L2X0
  * [Config] CPUFREQ_DT=m
  * [Config] disable SOC_TI
  * [Config] disable TEGRA_AHB
  * [Config] disable USB_OHCI_HCD
  * [Config] disable USB_EHCI_HCD
  * [Config] disable USB_XHCI_HCD
  * [Config] disable VEXPRESS_CONFIG
  * packaging: purge all ARCHS but armhf

 -- Paolo Pisati <paolo.pisati@canonical.com>  Wed, 09 Sep 2015 09:58:34 +0200

linux-raspi2 (4.2.0-1004.4) wily; urgency=low

  [ Paolo Pisati ]

  * [Config] disable ERRATAs not applicable to raspi2
  * [Config] VMSPLIT_2G=y

 -- Paolo Pisati <paolo.pisati@canonical.com>  Tue, 08 Sep 2015 11:22:46 +0200

linux-raspi2 (4.2.0-1003.3) wily; urgency=low

  [ Paolo Pisati ]

  * [Config] BCM2835_MBOX=y, ARM_BCM2835_CPUFREQ=y, RASPBERRYPI_FIRMWARE=y
    and THERMAL_BCM2835=y
  * [Config] BCM2709_DT=y, BCM2708_WDT=m and BCM2835_WDT=m
  * [Config] BRCM_CHAR_DRIVERS=y, BCM_VC_CMA=y and BCM_VCIO=y
  * [Config] DMA_BCM2708=y
  * [Config] HW_RANDOM_BCM2708=m and HW_RANDOM_BCM2835=m
  * [Config] I2C_BCM2708=m
  * [Config] SPI_BCM2708=m and SPI_BCM2835=m
  * [Config] PWM_BCM2835=m
  * [Config] VIDEO_BCM2835=y
  * [Config] SND_BCM2835=m and SND_BCM2708_SOC_I2S=m
  * [Config] DMA_CMA=y
  * [Config] FB_RPISENSE=m
  * [Config] IP_MROUTE_MULTIPLE_TABLES=y
  * [Config] JUMP_LABEL=y
  * [Config] JOYSTICK_RPISENSE=m
  * [Config] LIRC_RPI=m
  * [Config] disable HIGHMEM
  * [Config] USB_NET_SMSC95XX=y

 -- Paolo Pisati <paolo.pisati@canonical.com>  Mon, 07 Sep 2015 16:37:31 +0200

linux-raspi2 (4.2.0-1002.2) wily; urgency=low

  [ Andy Green ]

  * SAUCE: force min_free_kbytes set by proc to min 32K to workaround smsc
    problems

  [ Paolo Pisati ]

  * [Config] snappy config fragments: generic, systemd, lxc, security and
    snappy
  * [Config] snappy/security: CC_STACKPROTECTOR_REGULAR=y
  * [Config] snappy/snappy: RFKILL_REGULATOR depends on REGULATOR=y
  * [Config] snappy/generic: CRASH_DUMP=y
  * [Config] snappy/generic: NVRAM=m
  * [Config] snappy/generic: INPUT_UINPUT=y
  * [Config] snappy/generic: SYSVIPC=y && SYSVIPC_SYSCTL=y
  * [Config] snappy/generic: LOCALVERSION= to avoid packaging failure
  * [Config] updateconfigs
  * [Config] FTBFS: disable STE_MODEM_RPROC - raspi2 lacks the necessary
    barrier primitives when SMP=y
  * [Config] FTBFS: disable VIA_RHINE - raspi2 lacks the necessary barrier
    primitives when SMP=y
  * [Config] FTBFS: disable VIRTIO_MMIO - raspi2 lacks the necessary
    barrier primitives
  * [Config] FTBFS: disable CAIF_VIRTIO - raspi2 lacks the necessary
    barrier primitives
  * [Config] disable BIG_LITTLE
  * [Config] MMC_BCM2835=y

 --  Paolo Pisati <paolo.pisati@canonical.com>  Fri, 04 Sep 2015 09:44:10 +0100

linux-raspi2 (4.2.0-1001.1) wily; urgency=low

  [ Paolo Pisati ]

  * import rpi-4.2.y BSP @3a5c7e7
  * rebased on Ubuntu-4.2.0-7.7

 -- Paolo Pisati <paolo.pisati@canonical.com>  Thu, 3 Sep 2015 15:22:10 +0100
